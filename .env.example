# ======================
# Database Configuration
# ======================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DATABASE=cosmosli

# Alternative Database URL format (used in Docker environments)
DB_USER=postgres
DB_NAME=cosmosli

# Migration Database (development only, uses port 5433)
# This separate database is used for generating migrations
# - Main DB (5432): synchronize=true for hot reload
# - Migration DB (5433): synchronize=false for clean migration generation

# ======================
# Application
# ======================
PORT=3000
NODE_ENV=development

# ======================
# Federation
# ======================
FEDERATION_DOMAIN=localhost:3000
FEDERATION_HANDLE_DOMAIN=localhost:3000
FEDERATION_PROTOCOL=http

# Generate a new key for production using `yarn generate-key` and paste it here
INSTANCE_ACTOR_KEY=''

# ======================
# Frontend Configuration
# ======================
FRONTEND_URL=http://localhost:3001
NEXT_PUBLIC_API_URL=http://localhost:3000
VITE_API_URL=http://localhost:3000
ADMIN_URL=http://localhost:3004

# ======================
# Redis Configuration
# ======================
REDIS_URL=redis://redis:6379

# ======================
# JWT Configuration
# ======================
JWT_SECRET=your-secret-key-change-in-production

# ======================
# Mail Configuration
# ======================
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USER=noreply@cosmosli.de
MAIL_PASSWORD=your-mail-password
MAIL_FROM=noreply@cosmosli.de

# ======================
# MinIO Configuration
# ======================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# S3 Storage (Cloudflare R2 or AWS S3 or local MinIO)
# ======================
# (on local development) ACCESS_KEY and SECRET_KEY are both MINIO_ROOT_USER and MINIO_ROOT_PASSWORD for local MinIO usage
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
S3_BUCKET=your_bucket_name
# Optional: AWS region (default: us-east-1)
AWS_REGION=us-east-1
# Optional: For custom S3 endpoint (Cloudflare R2 or other S3-compatible storage)
# Example for R2: https://[account_id].r2.cloudflarestorage.com
# (on local development) http://minio:9000 for Docker setup with local MinIO
S3_ENDPOINT=http://your-custom-endpoint.com
# Optional: Public URL for direct file access (if bucket is public)
S3_PUBLIC_URL=https://your-cdn-url.com
# Optional: Max file upload size in MB (default: 200)
MAX_FILE_SIZE_MB=200

# ======================
# Production Only
# ======================
# Uncomment these for production deployment
# NODE_ENV=production
# DOMAIN=cosmosli.de
# FEDERATION_DOMAIN=api.cosmosli.de
# FEDERATION_PROTOCOL=https
